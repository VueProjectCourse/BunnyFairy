# 规格组件-禁选效果分析

::: tip 目标
这一小节，我们的目标是分析规格选项禁用效果的实现思路
:::

::: warning 步骤

1. 准备一个规格查询对象, 在该对象中存储有库存的商品对应的规格及规格组合
2. 规格组件初始化时, 遍历规格数组, 在规格查询对象中查找当前遍历到的规格, 找不到就禁用当前遍历到的规格
3. 当用户选择规格后, 使用用户选择的规格和其他规格进行组合, 在规格对象中查找该规格组合, 找不到就禁用被组合规格
:::

::: info 体验

* **Step.1：准备一个规格查询对象, 在该对象中存储有库存的商品对应的规格及规格组合**

```js
{
    "黑色": null,
    "蓝色": null,
    "中国": null,
    "日本": null,
    "10cm": null,
    "30cm": null,
    "黑色_中国": null,
    "黑色_日本": null,
    "黑色_30cm": null,
    "黑色_10cm": null
    "黑色_日本_30cm": "skuId",
    "蓝色_日本": null
    "蓝色_中国": null,
    "蓝色_30cm": null,
    "蓝色_10cm": null,
    "蓝色_日本_30cm": "skuId",
    "蓝色_中国_10cm": "skuId"
}
```

* **Step.2：规格组件初始化时, 遍历规格数组, 在规格查询对象中查找当前遍历到的规格, 找不到就禁用当前遍历到的规格**
* **Step.3：当用户选择规格后, 使用用户选择的规格和其他规格进行组合, 在规格对象中查找该规格组合, 找不到就禁用被组合规格**
:::

::: danger 总结

* 【重点】
* 【难点】
* 【注意点】
:::
